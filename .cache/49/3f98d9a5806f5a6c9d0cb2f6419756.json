{"id":"../node_modules/@ceramicnetwork/common/lib/logger-base.js","dependencies":[{"name":"/home/vitalpointai/projects/space-gems/node_modules/@ceramicnetwork/common/lib/logger-base.js.map","includedInParent":true,"mtime":1642247367864},{"name":"/home/vitalpointai/projects/space-gems/package.json","includedInParent":true,"mtime":1642266346920},{"name":"/home/vitalpointai/projects/space-gems/node_modules/@ceramicnetwork/common/package.json","includedInParent":true,"mtime":1642247367864}],"generated":{"js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LoggerProviderBase = exports.ServiceLoggerBase = exports.DiagnosticsLoggerBase = exports.LogLevel = exports.LogStyle = void 0;\nvar LogStyle;\n(function (LogStyle) {\n    LogStyle[\"verbose\"] = \"info\";\n    LogStyle[\"info\"] = \"info\";\n    LogStyle[\"imp\"] = \"imp\";\n    LogStyle[\"warn\"] = \"warn\";\n    LogStyle[\"err\"] = \"err\";\n})(LogStyle = exports.LogStyle || (exports.LogStyle = {}));\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"verbose\"] = 0] = \"verbose\";\n    LogLevel[LogLevel[\"debug\"] = 1] = \"debug\";\n    LogLevel[LogLevel[\"important\"] = 2] = \"important\";\n    LogLevel[LogLevel[\"warn\"] = 3] = \"warn\";\n})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));\nclass DiagnosticsLoggerBase {\n    constructor(logLevel, logToFiles, fileLogger) {\n        this.logLevel = logLevel;\n        this.includeStackTrace = this.logLevel <= LogLevel.debug ? true : false;\n        this.logToFiles = logToFiles;\n        this.fileLogger = fileLogger;\n    }\n    write(content) {\n        this.debug(content);\n    }\n    verbose(content) {\n        if (this.logLevel > LogLevel.verbose) {\n            return;\n        }\n        this.log(LogStyle.verbose, content);\n    }\n    debug(content) {\n        if (this.logLevel > LogLevel.debug) {\n            return;\n        }\n        this.log(LogStyle.info, content);\n    }\n    imp(content) {\n        if (this.logLevel > LogLevel.important) {\n            return;\n        }\n        this.log(LogStyle.imp, content);\n    }\n    warn(content) {\n        this.log(LogStyle.warn, content);\n    }\n    err(content) {\n        this.log(LogStyle.err, content);\n    }\n    log(style, content) {\n        throw new Error('Not implmented in base class');\n    }\n}\nexports.DiagnosticsLoggerBase = DiagnosticsLoggerBase;\nclass ServiceLoggerBase {\n    constructor(service, logLevel, logToFiles, stream) {\n        this.service = service;\n        this.logLevel = logLevel;\n        this.logToFiles = logToFiles;\n        this.stream = stream;\n        this.logToConsole = this.logLevel <= LogLevel.debug;\n    }\n    log(serviceLog) {\n        this.write(this.format(serviceLog));\n    }\n    write(message) {\n        const now = new Date();\n        message = `[${now.toUTCString()}] service=${this.service} ${message}`;\n        if (this.logToConsole) {\n            console.log(message);\n        }\n    }\n    format(serviceLog) {\n        throw new Error('Not implmented in base class');\n    }\n}\nexports.ServiceLoggerBase = ServiceLoggerBase;\nconst DEFAULT_LOG_CONFIG = {\n    logLevel: LogLevel.important,\n    logToFiles: false,\n};\nclass LoggerProviderBase {\n    constructor(config = {}, fileLoggerFactory) {\n        this.config = {\n            logLevel: config.logLevel !== undefined ? config.logLevel : DEFAULT_LOG_CONFIG.logLevel,\n            logToFiles: config.logToFiles !== undefined ? config.logToFiles : DEFAULT_LOG_CONFIG.logToFiles,\n            logDirectory: config.logDirectory,\n        };\n        this._fileLoggerFactory = fileLoggerFactory;\n        if (this.config.logToFiles && !this._fileLoggerFactory) {\n            throw new Error('Must provide a FileLoggerFactory in order to log to files');\n        }\n        this._diagnosticLogger = this._makeDiagnosticLogger();\n    }\n    _makeDiagnosticLogger() {\n        throw new Error('Not implmented in base class');\n    }\n    getDiagnosticsLogger() {\n        return this._diagnosticLogger;\n    }\n    makeServiceLogger(serviceName) {\n        throw new Error('Not implmented in base class');\n    }\n}\nexports.LoggerProviderBase = LoggerProviderBase;\n"},"sourceMaps":{"js":{"version":3,"file":"logger-base.js","sourceRoot":"","sources":["../src/logger-base.ts"],"names":[],"mappings":"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","sourcesContent":[null]}},"error":null,"hash":"6d02ab43d8728e24ddfca1d27607356e","cacheData":{"env":{}}}