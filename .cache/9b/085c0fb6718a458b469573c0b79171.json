{"id":"../node_modules/@ceramicnetwork/common/lib/utils/http-utils.js","dependencies":[{"name":"/home/vitalpointai/projects/space-gems/node_modules/@ceramicnetwork/common/lib/utils/http-utils.js.map","includedInParent":true,"mtime":1642247367864},{"name":"/home/vitalpointai/projects/space-gems/package.json","includedInParent":true,"mtime":1642266346920},{"name":"/home/vitalpointai/projects/space-gems/node_modules/@ceramicnetwork/common/package.json","includedInParent":true,"mtime":1642247367864},{"name":"cross-fetch","loc":{"line":7,"column":46},"parent":"/home/vitalpointai/projects/space-gems/node_modules/@ceramicnetwork/common/lib/utils/http-utils.js","resolved":"/home/vitalpointai/projects/space-gems/node_modules/cross-fetch/dist/browser-ponyfill.js"},{"name":"abort-controller","loc":{"line":8,"column":51},"parent":"/home/vitalpointai/projects/space-gems/node_modules/@ceramicnetwork/common/lib/utils/http-utils.js","resolved":"/home/vitalpointai/projects/space-gems/node_modules/abort-controller/browser.js"}],"generated":{"js":"\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fetchJson = void 0;\nconst cross_fetch_1 = __importDefault(require(\"cross-fetch\"));\nconst abort_controller_1 = __importDefault(require(\"abort-controller\"));\nconst DEFAULT_FETCH_TIMEOUT = 60 * 1000 * 3;\nasync function fetchJson(url, opts = {}) {\n    if (opts.body) {\n        Object.assign(opts, {\n            body: JSON.stringify(opts.body),\n            headers: { 'Content-Type': 'application/json' },\n        });\n    }\n    const timeoutLength = opts.timeout || DEFAULT_FETCH_TIMEOUT;\n    const controller = new abort_controller_1.default();\n    const timeout = setTimeout(() => {\n        controller.abort();\n    }, timeoutLength);\n    Object.assign(opts, {\n        signal: controller.signal,\n    });\n    const res = await cross_fetch_1.default(url, opts)\n        .catch((err) => {\n        if (err.name == 'AbortError') {\n            throw new Error(`Http request timed out after ${timeoutLength} ms`);\n        }\n        throw err;\n    })\n        .finally(() => timeout && clearTimeout(timeout));\n    if (!res.ok) {\n        const text = await res.text();\n        throw new Error(`HTTP request to '${url}' failed with status '${res.statusText}': ${text}`);\n    }\n    return res.json();\n}\nexports.fetchJson = fetchJson;\n"},"sourceMaps":{"js":{"version":3,"file":"http-utils.js","sourceRoot":"","sources":["../../src/utils/http-utils.ts"],"names":[],"mappings":";;;;;;AAAA,8DAA+B;AAE/B,wEAA8C;AAE9C,MAAM,qBAAqB,GAAG,EAAE,GAAG,IAAI,GAAG,CAAC,CAAA;AAQpC,KAAK,UAAU,SAAS,CAAC,GAAW,EAAE,OAAkB,EAAE;IAC/D,IAAI,IAAI,CAAC,IAAI,EAAE;QACb,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE;YAClB,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC;YAC/B,OAAO,EAAE,EAAE,cAAc,EAAE,kBAAkB,EAAE;SAChD,CAAC,CAAA;KACH;IAED,MAAM,aAAa,GAAG,IAAI,CAAC,OAAO,IAAI,qBAAqB,CAAA;IAC3D,MAAM,UAAU,GAAG,IAAI,0BAAe,EAAE,CAAA;IACxC,MAAM,OAAO,GAAG,UAAU,CAAC,GAAG,EAAE;QAC9B,UAAU,CAAC,KAAK,EAAE,CAAA;IACpB,CAAC,EAAE,aAAa,CAAC,CAAA;IACjB,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE;QAClB,MAAM,EAAE,UAAU,CAAC,MAAM;KAC1B,CAAC,CAAA;IAEF,MAAM,GAAG,GAAG,MAAM,qBAAK,CAAC,GAAG,EAAE,IAAI,CAAC;SAC/B,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE;QACb,IAAI,GAAG,CAAC,IAAI,IAAI,YAAY,EAAE;YAC5B,MAAM,IAAI,KAAK,CAAC,gCAAgC,aAAa,KAAK,CAAC,CAAA;SACpE;QACD,MAAM,GAAG,CAAA;IACX,CAAC,CAAC;SACD,OAAO,CAAC,GAAG,EAAE,CAAC,OAAO,IAAI,YAAY,CAAC,OAAO,CAAC,CAAC,CAAA;IAElD,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE;QACX,MAAM,IAAI,GAAG,MAAM,GAAG,CAAC,IAAI,EAAE,CAAA;QAC7B,MAAM,IAAI,KAAK,CAAC,oBAAoB,GAAG,yBAAyB,GAAG,CAAC,UAAU,MAAM,IAAI,EAAE,CAAC,CAAA;KAC5F;IAED,OAAO,GAAG,CAAC,IAAI,EAAE,CAAA;AACnB,CAAC;AAhCD,8BAgCC","sourcesContent":[null]}},"error":null,"hash":"a15a0131bff16e344eaf70ed45e82ed4","cacheData":{"env":{}}}